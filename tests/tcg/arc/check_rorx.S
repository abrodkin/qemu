#define ARCTEST_ARC32

#*****************************************************************************
# ror.S
#-----------------------------------------------------------------------------
#
# Test or instruction.
#

#include "test_macros.h"

ARCTEST_BEGIN

  #-------------------------------------------------------------
  # Logical tests
  #-------------------------------------------------------------
  TEST_RR_3OP( 2, ror, 0xdeadbeef, 0xdeadbeef, 0x00000000);
  TEST_RR_3OP( 3, ror, 0x00000001, 0x00000001, 0x00000000);
  TEST_RR_3OP( 4, ror, 0x80000000, 0x80000000, 0x00000000);

  TEST_RR_3OP( 5, ror, 0xbd5b7ddf, 0xdeadbeef, 0x0000001f);
  TEST_RR_3OP( 6, ror, 0x00000002, 0x00000001, 0x0000001f);
  TEST_RR_3OP( 7, ror, 0x00000001, 0x80000000, 0x0000001f);
  
  TEST_RR_2OP( 8, ror8, 0x01000000, 0x00000001);

  #-------------------------------------------------------------
  # Source/Destination tests
  #-------------------------------------------------------------
  TEST_RR_SRC1_EQ_DEST( 9, ror,  0xca000804, 0x000804ca, 0xfff80008);

  #-------------------------------------------------------------
  # Flag tests
  #-------------------------------------------------------------
  TEST_2OP_CARRY(10, ror, 0, 0x00000001, 0x02);
  TEST_2OP_CARRY(11, ror, 1, 0x00000001, 0x01);
  TEST_2OP_ZERO( 12, ror, 1, 0x00000000, 0xbf);
  TEST_2OP_NEGATIVE( 13, ror, 1, 0x80000000, 0x00);

  TEST_2OP_CARRY(14, ror , 1, 0x000000ff, 0x08);
  TEST_1OP_CARRY(15, ror8, 0, 0x000000ff      ); #ror8 does not update carry

ARCTEST_END
