#define ARCTEST_ARC32

#*****************************************************************************
# asr.S
#-----------------------------------------------------------------------------
#
# Test or instruction.
#

#include "test_macros.h"

ARCTEST_BEGIN

  #-------------------------------------------------------------
  # Logical tests
  #-------------------------------------------------------------
	TEST_RR_OP(2, asr, 0x12345678, 0x12345678, 0);
	TEST_RR_OP(3, asr, 0x01234567, 0x12345678, 4);
	TEST_RR_OP(4, asr, 0xFF234567, 0xF2345678, 4);
	TEST_RR_OP(5, asr, 0x00000000, 0x7FFFFFFF, 31);
	TEST_RR_OP(6, asr, 0xffffffff, 0x8FFFFFFF, 31);

  #-------------------------------------------------------------
  # Flag tests
  #-------------------------------------------------------------
  TEST_2OP_CARRY( 7, asr, 0, 0x00000001, 0x02);
  TEST_2OP_CARRY( 8, asr, 1, 0x00000001, 0x01);
  TEST_2OP_ZERO(  9, asr, 1, 0x12345678, 0xbf);
  TEST_2OP_NEGATIVE( 10, asr, 1, 0xFF345678, 0x04);

ARCTEST_END
